diff -ur atm.orig/Rules.make atm/Rules.make
--- atm.orig/Rules.make	Tue Aug 24 00:00:00 1999
+++ atm/Rules.make	Wed Dec 29 20:07:03 1999
@@ -56,7 +56,7 @@
   # -Wmissing-prototypes (linux/byteorder is broken)
   # -Wmissing-declarations (gcc 2.6.x only)
   # -Wconversion (breaks inline)
-CFLAGS_OPT=-O2
+CFLAGS_OPT=$(RPM_OPT_FLAGS)
 CFLAGS=$(CFLAGS_NOOPT) $(CFLAGS_OPT) $(CFLAGS_PRIVATE)
 CFLAGS_LEX=$(CFLAGS_NOWARN) $(CFLAGS_OPT)
 CFLAGS_YACC=$(CFLAGS_NOWARN) $(CFLAGS_OPT) -DYY_USE_CONST
diff -ur atm.orig/ilmid/asn1/Makefile atm/ilmid/asn1/Makefile
--- atm.orig/ilmid/asn1/Makefile	Tue Apr 22 04:10:19 1997
+++ atm/ilmid/asn1/Makefile	Wed Dec 29 20:08:15 1999
@@ -1,5 +1,4 @@
 CC = cc
-CFLAGS = -O
 LIBS = 
 INCLUDES = 
 SRCS = asn_len.c asn_tag.c asn_int.c asn_octs.c asn_bits.c str_stk.c \
